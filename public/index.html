<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootcamp APIs</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js"
        integrity="sha512-uMtXmF28A2Ab/JJO2t/vYhlaa/3ahUOgj1Zf27M5rOo8/+fcTUVH0/E0ll68njmjrLqOBjXM3V9NiPFL5ywWPQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="style.css">
    <script src="//unpkg.com/alpinejs" defer></script>
</head>

<body>
    <h2>My Bootcamp API</h2>
    <div class="widget" x-data="{
            sentence: '',
            longestWord: '',
            shortestWord: '',
            wordLengths: 0,
            resultToShow: '', // To keep track of the selected result
    
            checkSentence() {
                axios.get(`/api/word_game?sentence=${this.sentence}`)
                    .then((result) => {
                        this.longestWord = result.data.longestWord;
                        this.shortestWord = result.data.shortestWord;
                        this.wordLengths = result.data.sum;
                        this.resultToShow = ''; // Reset the selected result
                    });
            }
        }">
        <h1>Word game Widget</h1>

        <div>
            <textarea x-model="sentence" name="" id="" cols="30" rows="5"></textarea>
            <div><button x-on:click="checkSentence">Check Sentence</button></div>
        </div>

        <div>
            <!-- Radio buttons for the results -->
            <div>
                <input type="radio" id="longest" name="result" value="longest" x-model="resultToShow">
                <label for="longest">Longest word: <span x-text="longestWord"></span></label>
            </div>

            <div>
                <input type="radio" id="shortest" name="result" value="shortest" x-model="resultToShow">
                <label for="shortest">Shortest word: <span x-text="shortestWord"></span></label>
            </div>

            <div>
                <input type="radio" id="wordLengths" name="result" value="wordLengths" x-model="resultToShow">
                <label for="wordLengths">Word count: <span x-text="wordLengths"></span></label>
            </div>
        </div>

        <div>
            <!-- Display the selected result -->
            <div x-show="resultToShow === 'longest'">
                Longest word: <span x-text="longestWord"></span>
            </div>

            <div x-show="resultToShow === 'shortest'">
                Shortest word: <span x-text="shortestWord"></span>
            </div>

            <div x-show="resultToShow === 'wordLengths'">
                Word count: <span x-text="wordLengths"></span>
            </div>
        </div>
    </div>
</body>